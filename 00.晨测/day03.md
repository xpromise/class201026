## 谈谈 props

## 谈谈 js 事件轮询机制

首先 js 引擎主线程会从上到下依次执行所有代码
遇到同步代码，会依次执行
遇到异步代码，会交给浏览器相关异步管理模块来处理
比如：定时器会交给浏览器定时器管理模块，由浏览器定时器管理模块负责计时
当到点了，浏览器定时器管理模块将定时器的回调函数添加到回调队列中，等待执行
当所有代码执行完毕，此时会开启事件轮询，轮询回调队列
依次取出，同步执行其中的回调函数

当回调队列中所有回调函数全部执行完毕，等待下一次继续轮询回调队列，一直循环下去

异步代码到底是如何的执行顺序？
宏任务：setTimeout ajax
微任务：Promise

首先将整个 script 标签当做一个宏任务执行
如果遇到微任务会添加到微任务队列
如果遇到宏任务会添加到宏任务队列
执行完第一个宏任务，就要检查是否有微任务要执行，有就依次执行
等所有微任务执行宏任务。

每次执行宏任务要检查是否有微任务要执行（微任务优先级比宏任务更高）

## 谈谈 js 事件机制

- js DOM 的事件触发的顺序
- 捕获阶段 - 目标阶段 - 冒泡阶段
- 应用：
  - 事件委托：将所有子节点的事件委托父节点去绑定
    - 减少绑定事件的次数

## 谈谈 this 指向
- 默认/直接调用 fn() 指向window
  - 在es5严格模式下，会指向undefined
- 隐式/对象调用 obj.fn() 指向调用方法的obj
- 实例/new调用 new Fn() 指向生成的实例对象
- 显示（call/apply）调用 fn.call(obj) 指向传入的第一个参数
- 在ES6中，有箭头函数，他没有自己的this，指向外层包裹它的函数的this
- 回调函数
  - setTimeout 指向window
  - DOM事件 指向绑定事件的DOM元素
  - 在React中，生命周期函数this指向组件实例对象
    - React普通函数this指向undefined，改成箭头函数指向组件实例对象
  - 在Vue中，函数this指向组件实例对象

 